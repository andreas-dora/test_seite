<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="style.css">
  <title>Copy to Clipboard</title>
</head>
<body>
<header>
  <h1>Copy to Clipboard</h1>
</header>
  
<main>
  <div class="container">
    <h5>Das Problem:</h5>
    <p>Aus Sicherheitsgründen kann der Browser nur Inhalte aus Textfeldern (Input oder der Textarea copieren. In diesem Bespiel wird der "Hello World" String aus dem ersten Input-Feld kopiert</p> <br>
    <label for="myInput"><h5>Kopier das:</h5></label>
    <input type="text" value="Hello World" id="myInput"><br>
    <button id="myBtn">Copy</button>
    <label for=""><h5>hier rein:</h5></label>
    <input type="text" class="Ziel">
  </div>
  
  <div class="container">
    <h5>Workaround</h5>
    <p>Das Problem lässt sich folgendermaßen umgehen: Man wählt zunächst den gewünschten Inhalt aus. Erzeugt eine neues "textarea"-Element (readonly) und setzt als dessen "Value" den Wunschinhalt ein. Von dort aus kann, wie gewohnt kopiert werden. Anscließend wird das Feld wieder gelöscht. Ein Beispiel bei <a href="https://hackernoon.com/copying-text-to-clipboard-with-javascript-df4d4988697f" target="_blank">Hackernoon</a> zu finden.</p> <br>
    <h5>Kopier das:</h5>
    <div id="testFeld1" class="testFeld">Keine Zauberei</div>
    <button id="cpBtn">Copy</button>
    <label for=""><h5>hier rein:</h5></label>
    <input type="text" class="Ziel">
  </div>
  <div class="container">
    <h5>code</h5>
    <div class="codeBox">
      <pre><code><p>const cpBtn = document.getElementById("cpBtn");
cpBtn.addEventListener("click", myFun);
<br>
function myFun(){
  var myCopy = document.getElementById("testFeld1");
  const myHlp = document.createElement('textarea');
  myHlp.value = myCopy.innerText;
  myHlp.setAttribute('readonly', '');
  myHlp.style.position = 'absolute'; 
  myHlp.style.left = '-9999px';
  document.body.appendChild(myHlp);
  myHlp.select();
  myHlp.setSelectionRange(0, 99999); /*For mobile devices*/
  document.execCommand("copy");
  alert("PENGO");
  document.body.removeChild(myHlp);
}</p></code></pre>
    </div>
  </div>
</main>

  <script type="text/javascript" src="./sketch.js"></script>


</body>
</html>